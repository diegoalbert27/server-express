(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{23:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(18),r=n.n(o),a=(n(23),n(3)),u=(n(9),n(5)),i=n(0),s=function(e){var t=e.note,n=e.toggleImportance,c=t.important?"Do make no important?":"Do make important?";return Object(i.jsxs)("li",{children:[t.id,". ",t.content,Object(i.jsx)("p",{children:t.date}),Object(i.jsx)("p",{children:t.number}),Object(i.jsx)("button",{onClick:n,children:c})]})},l=function(e){var t=e.show,n=e.handlerClick;return Object(i.jsx)("div",{children:Object(i.jsxs)("button",{onClick:n,children:["show ",t?"important":"all"]})})},j=function(e){var t=e.newN,n=e.submitNotes,c=e.changeNotes;return Object(i.jsxs)("form",{onSubmit:n,children:[Object(i.jsx)("input",{onChange:c,value:t}),Object(i.jsx)("button",{type:"submit",children:"save"})]})},b=n(4),f=n.n(b),h="/api/notes",d=function(){return f.a.get(h).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},O=function(e){return f.a.post(h,e).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},p=function(e,t){return f.a.put("".concat(h,"/").concat(e),t).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},m=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(""),b=Object(a.a)(r,2),f=b[0],h=b[1],m=Object(c.useState)(!0),x=Object(a.a)(m,2),g=x[0],v=x[1],k=Object(c.useState)(!0),C=Object(a.a)(k,2),N=C[0],S=C[1];Object(c.useEffect)((function(){console.log("effect");d().then((function(e){console.log("promise fulfilled"),v(!1),o(e)}))}),[]),console.log("render",n.length,"notes");var w=N?n:n.filter((function(e){return!0===e.important}));return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h1",{children:"Notes"}),Object(i.jsx)(l,{show:N,handlerClick:function(){return S(!N)}}),Object(i.jsx)(j,{submitNotes:function(e){e.preventDefault();var t={content:f,date:(new Date).toISOString(),important:Math.random()<.5};O(t).then((function(e){return console.log("succesfuly",e)})),h("")},changeNotes:function(e){return h(e.target.value)},newN:f}),g?"Cargando...":"",Object(i.jsx)("ul",{children:w.map((function(e){return Object(i.jsx)(s,{note:e,toggleImportance:function(){return function(e){var t=n.find((function(t){return t.id===e})),c=Object(u.a)(Object(u.a)({},t),{},{important:!t.important});v(!0),p(e,c).then((function(t){o(n.map((function(n){return n.id!==e?n:t}))),v(!1)}))}(e.id)}},e.id)}))})]})},x=function(e){var t=e.newPerson,n=e.changePhone,c=e.submitHandler;return Object(i.jsxs)("form",{onSubmit:c,children:[Object(i.jsx)("label",{children:"Nombre: "}),Object(i.jsx)("input",{onChange:n.handlerChangeName,value:t.nombre}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:"Telefono: "}),Object(i.jsx)("input",{onChange:n.handlerChangePhone,name:"telefono",value:t.telefono}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",children:"Guardar"})]})},g=function(e){var t=e.phonebook;return Object(i.jsxs)("li",{children:[t.id,Object(i.jsx)("p",{children:t.name}),Object(i.jsx)("p",{children:t.number})]})},v="/api/phonebook",k=function(){return f.a.get(v).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},C=function(e){return f.a.post(v,e).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},N=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(!0),s=Object(a.a)(r,2),l=s[0],j=s[1],b=Object(c.useState)({nombre:"",telefono:""}),f=Object(a.a)(b,2),h=f[0],d=f[1];Object(c.useEffect)((function(){console.log("effect");k().then((function(e){console.log("promise fulfilled"),j(!1),o(e)}))}),[]);var O={handlerChangeName:function(e){return d(Object(u.a)(Object(u.a)({},h),{},{nombre:e.target.value}))},handlerChangePhone:function(e){return d(Object(u.a)(Object(u.a)({},h),{},{telefono:e.target.value}))}};return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h1",{children:"PhoneBook"}),Object(i.jsx)(x,{submitHandler:function(e){e.preventDefault();var t={nombre:h.nombre,telefono:h.telefono};C(t).then((function(e){return console.log("succesfuly",e)})),d("")},changePhone:O,newPerson:h}),l?"Cargando...":"",n.map((function(e){return Object(i.jsx)(g,{phonebook:e},e.id)}))]})},S=function(){var e=Object(c.useState)(!0),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("button",{onClick:function(e){return o(!0)},children:"Click NoteApp"}),Object(i.jsx)("button",{onClick:function(e){return o(!1)},children:"Click PhonebookApp"}),Object(i.jsx)("div",{children:n?Object(i.jsx)(m,{}):Object(i.jsx)(N,{})})]})};r.a.render(Object(i.jsx)(S,{}),document.getElementById("root"))},9:function(e,t,n){}},[[43,1,2]]]);
//# sourceMappingURL=main.c4a7fade.chunk.js.map