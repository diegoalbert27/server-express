(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{23:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t(18),r=t.n(o),u=(t(23),t(3)),a=(t(9),t(5)),i=t(0),s=function(e){var n=e.note,t=e.toggleImportance,c=n.important?"Do make no important?":"Do make important?";return Object(i.jsxs)("li",{children:[n.id,". ",n.content,Object(i.jsx)("p",{children:n.date}),Object(i.jsx)("p",{children:n.number}),Object(i.jsx)("button",{onClick:t,children:c})]})},l=function(e){var n=e.show,t=e.handlerClick;return Object(i.jsx)("div",{children:Object(i.jsxs)("button",{onClick:t,children:["show ",n?"important":"all"]})})},j=function(e){var n=e.newN,t=e.submitNotes,c=e.changeNotes;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("input",{onChange:c,value:n}),Object(i.jsx)("button",{type:"submit",children:"save"})]})},b=t(4),f=t.n(b),h="/api/notes",d=function(){return f.a.get(h).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},O=function(e){return f.a.post(h,e).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},p=function(e,n){return f.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},m=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),b=Object(u.a)(r,2),f=b[0],h=b[1],m=Object(c.useState)(!0),x=Object(u.a)(m,2),g=x[0],v=x[1],k=Object(c.useState)(!0),C=Object(u.a)(k,2),N=C[0],S=C[1],w=function(){console.log("effect");d().then((function(e){console.log("promise fulfilled"),v(!1),o(e)}))};Object(c.useEffect)(w,[]),console.log("render",t.length,"notes");var P=N?t:t.filter((function(e){return!0===e.important}));return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h1",{children:"Notes"}),Object(i.jsx)(l,{show:N,handlerClick:function(){return S(!N)}}),Object(i.jsx)(j,{submitNotes:function(e){e.preventDefault();var n={content:f,date:(new Date).toISOString(),important:Math.random()<.5};O(n).then((function(e){console.log("succesfuly",e),w()})),h("")},changeNotes:function(e){return h(e.target.value)},newN:f}),g?"Cargando...":"",Object(i.jsx)("ul",{children:P.map((function(e){return Object(i.jsx)(s,{note:e,toggleImportance:function(){return function(e){var n=t.find((function(n){return n.id===e})),c=Object(a.a)(Object(a.a)({},n),{},{important:!n.important});v(!0),p(e,c).then((function(n){o(t.map((function(t){return t.id!==e?t:n}))),v(!1)}))}(e.id)}},e.id)}))})]})},x=function(e){var n=e.newPerson,t=e.changePhone,c=e.submitHandler;return Object(i.jsxs)("form",{onSubmit:c,children:[Object(i.jsx)("label",{children:"Nombre: "}),Object(i.jsx)("input",{onChange:t.handlerChangeName,value:n.nombre}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{children:"Telefono: "}),Object(i.jsx)("input",{onChange:t.handlerChangePhone,value:n.telefono}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",children:"Guardar"})]})},g=function(e){var n=e.phonebook;return Object(i.jsxs)("li",{children:[n.id,Object(i.jsx)("p",{children:n.name}),Object(i.jsx)("p",{children:n.number})]})},v="/api/phonebook",k=function(){return f.a.get(v).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},C=function(e){return f.a.post(v,e).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},N=function(e,n){return f.a.put("".concat(v,"/").concat(e),n).then((function(e){return e.data})).catch((function(e){return console.error(e)}))},S=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(!0),s=Object(u.a)(r,2),l=s[0],j=s[1],b=Object(c.useState)({nombre:"",telefono:""}),f=Object(u.a)(b,2),h=f[0],d=f[1],O=function(){console.log("effect");k().then((function(e){console.log("promise fulfilled"),j(!1),o(e)}))};Object(c.useEffect)(O,[]);var p={handlerChangeName:function(e){return d(Object(a.a)(Object(a.a)({},h),{},{nombre:e.target.value}))},handlerChangePhone:function(e){return d(Object(a.a)(Object(a.a)({},h),{},{telefono:e.target.value}))}};return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("h1",{children:"PhoneBook"}),Object(i.jsx)(x,{submitHandler:function(e){e.preventDefault();var n={name:h.nombre,number:h.telefono};console.log(n);var c=t.find((function(e){return e.name===h.nombre}));void 0===c?C(n).then((function(e){console.log("succesfuly",e),O()})):function(e,n){N(e.id,n).then((function(e){console.log("successfuly",e),O()}))}(c,n),d({nombre:"",telefono:""})},changePhone:p,newPerson:h}),l?"Cargando...":"",t.map((function(e){return Object(i.jsx)(g,{phonebook:e},e.id)}))]})},w=function(){var e=Object(c.useState)(!0),n=Object(u.a)(e,2),t=n[0],o=n[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("button",{onClick:function(e){return o(!0)},children:"Click NoteApp"}),Object(i.jsx)("button",{onClick:function(e){return o(!1)},children:"Click PhonebookApp"}),Object(i.jsx)("div",{children:t?Object(i.jsx)(m,{}):Object(i.jsx)(S,{})})]})};r.a.render(Object(i.jsx)(w,{}),document.getElementById("root"))},9:function(e,n,t){}},[[43,1,2]]]);
//# sourceMappingURL=main.14e156b8.chunk.js.map